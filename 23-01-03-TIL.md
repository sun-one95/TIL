Virtual Dom의 설명에 앞서 브라우저의 기본 렌더링 과정을 먼저 이해해야 한다.



![wvbwscn7oadykroobdd3](../images/23-01-03-TIL/wvbwscn7oadykroobdd3.png)



### DOM Tree 생성

브라우저가 HTML 을 전달받으면, 브라우저의 렌더 엔진이 이를 파싱하고 DOM 노드(Node) 로 이뤄진 트리를 만든다. 각 노드는 각 HTML 엘리먼트들과 연관이 되어있다..

### Render Tree 생성

그리고, 외부 CSS 파일과 각 엘리먼트의 inline 스타일을 파싱하며. 스타일 정보를 사용하여 DOM 트리에 따라 새로운 트리, 렌더트리를 만든다.

### Attachment

Webkit 에서는 노드의 스타일을 처리하는 과정을 ‘attachment’ 라고 부른다. DOM 트리의 모든 노드들은 ‘attach’ 라는 메소드가 있는데, 이 메소드는 스타일 정보를 계산해서 객체형태로 반환한다.

이 과정은 동기적(synchronous) 작업이고, DOM 트리에 새로운 노드가 추가되면 그 노드의 attach 메소드가 실행된다.

렌더 트리를 만드는 과정에선, 각 요소들의 스타일이 계산되고, 또 이 계산되는 과정에서 다른 요소들의 스타일 속성들을 참조하게  된다.

### Layout

 렌더 트리가 다 만들어지고 나면, 레이아웃 과정을 거치게 되는데. 각 노드들은 스크린의 좌표가 주어지고, 정확히 어디에 나타나야 할 지 위치가 주어진다.

layout

렌더트리가 만들어지고 나면 레이아웃 과정을 거치게 되는데 각 노드들은 스크린의 좌표가 주어지고 정확히 어디에 나타나야 할 지 위치가 주어진다.



렌더트리가 만들어지고 나면 다음은 레이아웃 과정이다. 각 좌표들의 위치가 주어져서 어디로 위치하여 렌더링 되느지 정해진다.



### Painting

그 다음 작업은 렌더링 된 요소들에 색을 입히는 과정이다. 트리의 각 노드들을 거쳐가면서 paint() 메소드를 호 한다. 그러고나면, 스크린에 원하는 정보가 나타나게 된다.



렌더링된 요소들의 색을 입히는 과정이다. 트리의 각 노드들을 거쳐가면서 paint() 메소드를 호출한다. 그러고 나면 원하는 정보가 화면에 나타난다.



dom tree 생성

브라우저에서 html을 받으면 브라우저의 렌더엔진이 이를 파싱하여 dom 노드로 이루어진 dom tree를 생성한다.

각 노드들은 각 html의 엘리먼트들과 연결되어 있다.



render tree 생성

외부 css 파일과 각 엘리먼트의 inline 스타일 속성을 파싱하여 각 스타일 정보를 사용하여 dom tree에 따라 새로운 트리인 render tree를 생성한다.



attachment

webkit에서는 노드의 스타일을 처리하는 과정을 attachment라고 한다. dom트리의 모든 노드들은 attach 라는 메소드를 가지고 있다. 이 메소드는 스타일 정보를 계산하여 객체 형태로 반환한다.

이 과정은 동기적 작업이며, 새로운 노드가 추가되면, 그 노드의 attach 메소드가 실행된다.

렌더트리를 만드는 과정에서 각 요소들의 스타일이 계산되며 또 이 계산되는 과정에서 다른 요소들의 스타일 속성들을 참조하게 된다. 



layout

렌더트리가 만들어지고 나면 레이아웃 과정을 거치게 되는데 

































